on fs
    mkdir /dev/usb-ffs 0770 shell shell
    mkdir /dev/usb-ffs/adb 0770 shell shell
    mount functionfs adb /dev/usb-ffs/adb uid=2000,gid=2000
    write /sys/class/android_usb/android0/f_ffs/aliases adb
    chown system system /sys/class/android_usb/android0/f_acm/port_index
    chmod 0660 /sys/class/android_usb/android0/f_acm/port_index


on post-fs-data
    chown radio system /sys/class/usb_rawbulk/data/enable
    chmod 0660 /sys/class/usb_rawbulk/data/enable
    chown radio system /sys/class/usb_rawbulk/ets/enable
    chmod 0660 /sys/class/usb_rawbulk/ets/enable
    chown radio system /sys/class/usb_rawbulk/atc/enable
    chmod 0660 /sys/class/usb_rawbulk/atc/enable
    chown radio system /sys/class/usb_rawbulk/pcv/enable
    chmod 0660 /sys/class/usb_rawbulk/pcv/enable
    chown radio system /sys/class/usb_rawbulk/gps/enable
    chmod 0660 /sys/class/usb_rawbulk/gps/enable
	chown system radio /dev/ttyGS0
	chmod 0660 /dev/ttyGS0
	chown system radio /dev/ttyGS1
	chmod 0660 /dev/ttyGS1
	chown system radio /dev/ttyGS2
	chmod 0660 /dev/ttyGS2
	chown system radio /dev/ttyGS3
	chmod 0660 /dev/ttyGS3

on charger
	setprop vendor.usb.acm_enable 0
	setprop sys.usb.config mtp

on boot
    setprop sys.usb.ffs.aio_compat 1
	setprop vendor.usb.vid 2E04
	write /sys/class/android_usb/android0/iManufacturer MediaTek
	write /sys/class/android_usb/android0/iProduct ${ro.product.model}
	write /sys/class/android_usb/android0/iSerial ${ro.serialno}
	write /sys/class/android_usb/android0/f_rndis/wceis 1
	write /sys/class/android_usb/android0/f_rndis/manufacturer MediaTek
	write /sys/class/android_usb/android0/f_rndis/vendorID ${vendor.usb.vid}
	setprop vendor.usb.acm_cnt 0
	setprop vendor.usb.acm_idx ""
	setprop vendor.usb.acm_enable 0

# Used to disable USB when switching states
on property:sys.usb.config=none
    write /sys/class/udc/musb-hdrc/device/saving 0

### main function : adb ###
on property:sys.usb.config=adb && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid 0C01
on property:sys.usb.config=adb && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2006
on property:sys.usb.config=adb && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 2029
on property:sys.usb.config=adb && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mass_storage,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=adb && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions adb
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}

### main function : mtp ###
on property:sys.usb.config=mtp && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid C033
on property:sys.usb.config=mtp && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2012
on property:sys.usb.config=mtp && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 202A
on property:sys.usb.config=mtp && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mtp,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=mtp && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions mtp
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=mtp,adb && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid C030
on property:sys.usb.config=mtp,adb && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 200A
on property:sys.usb.config=mtp,adb && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 2026
on property:sys.usb.config=mtp,adb && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mtp,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=mtp,adb && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions mtp,adb
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}

### main function : ptp ###
on property:sys.usb.config=ptp && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid C034
on property:sys.usb.config=ptp && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2013
on property:sys.usb.config=ptp && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 202B
on property:sys.usb.config=ptp && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions ptp,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=ptp && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions ptp
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=ptp,adb && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid C031
on property:sys.usb.config=ptp,adb && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 200D
on property:sys.usb.config=ptp,adb && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 2027
on property:sys.usb.config=ptp,adb && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions ptp,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=ptp,adb && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions ptp,adb
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}

### main function : rndis ###
on property:sys.usb.config=rndis && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid C022
on property:sys.usb.config=rndis && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2011
on property:sys.usb.config=rndis && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 202C
on property:sys.usb.config=rndis && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions rndis,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=rndis && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions rndis
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=rndis,adb && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid C008
on property:sys.usb.config=rndis,adb && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2010
on property:sys.usb.config=rndis,adb && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 2028
on property:sys.usb.config=rndis,adb && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions rndis,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=rndis,adb && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions rndis,adb
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}

### main function : midi ###
on property:sys.usb.config=midi && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid 2046
on property:sys.usb.config=midi && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2047
on property:sys.usb.config=midi && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions midi,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=midi && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions midi
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=midi,adb && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid 2048
on property:sys.usb.config=midi,adb && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2049
on property:sys.usb.config=midi,adb && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions midi,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=midi,adb && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions midi,adb
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}

### main function : via_bypass ###
on property:sys.usb.config=via_bypass && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid 2031
on property:sys.usb.config=via_bypass && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2033
on property:sys.usb.config=via_bypass && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions via_modem,via_ets,via_atc,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=via_bypass && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions via_modem,via_ets,via_atc
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=via_bypass,adb && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid 2032
on property:sys.usb.config=via_bypass,adb && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2034
	setprop vendor.usb.via_func via_modem,via_ets,via_atc,adb,acm
on property:sys.usb.config=via_bypass,adb && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 2050
	setprop vendor.usb.via_func via_modem,acm,adb
on property:sys.usb.config=via_bypass,adb && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions ${vendor.usb.via_func}
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=via_bypass,adb && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions via_modem,via_ets,via_atc,adb
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}

### main function : rndis,via_bypass ###
on property:sys.usb.config=rndis,via_bypass && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid 2036
on property:sys.usb.config=rndis,via_bypass && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2038
on property:sys.usb.config=rndis,via_bypass && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions rndis,via_ets,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=rndis,via_bypass && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions rndis,via_ets
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=rndis,via_bypass,adb && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid 2037
on property:sys.usb.config=rndis,via_bypass,adb && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2039
on property:sys.usb.config=rndis,via_bypass,adb && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions rndis,via_ets,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=rndis,via_bypass,adb && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions rndis,via_ets,adb
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}

### main function : mass_storage ###
on property:sys.usb.config=mass_storage && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid C004
on property:sys.usb.config=mass_storage && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 200F
on property:sys.usb.config=mass_storage && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 202D
on property:sys.usb.config=mass_storage && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mass_storage,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=mass_storage && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions mass_storage
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
	write /sys/class/android_usb/android0/enable 1
	# start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=mass_storage,adb && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid C001
on property:sys.usb.config=mass_storage,adb && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2006
on property:sys.usb.config=mass_storage,adb && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 2029
on property:sys.usb.config=mass_storage,adb && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mass_storage,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=mass_storage,adb && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions mass_storage,adb
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}

### main function : bicr ###
on property:sys.usb.config=bicr && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid 2002
on property:sys.usb.config=bicr && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 200F
on property:sys.usb.config=bicr && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 202D
on property:sys.usb.config=bicr && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mass_storage,acm
	write /sys/class/android_usb/android0/f_mass_storage/bicr 1
	write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=bicr && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions mass_storage
	write /sys/class/android_usb/android0/f_mass_storage/bicr 1
	write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=bicr,adb && property:vendor.usb.acm_cnt=0
	setprop vendor.usb.pid 2003
on property:sys.usb.config=bicr,adb && property:vendor.usb.acm_cnt=1
	setprop vendor.usb.pid 2006
on property:sys.usb.config=bicr,adb && property:vendor.usb.acm_cnt=2
	setprop vendor.usb.pid 2029
on property:sys.usb.config=bicr,adb && property:vendor.usb.acm_enable=1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/f_acm/port_index ${vendor.usb.acm_idx}
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mass_storage,adb,acm
	write /sys/class/android_usb/android0/f_mass_storage/bicr 1
	write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
on property:sys.usb.config=bicr,adb && property:vendor.usb.acm_enable=0
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct ${vendor.usb.pid}
	write /sys/class/android_usb/android0/functions mass_storage,adb
	write /sys/class/android_usb/android0/f_mass_storage/bicr 1
	write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}


### ttyGS series begin ###
on property:sys.usb.config=via_bypass,gs1gs3
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2050
	write /sys/class/android_usb/android0/f_acm/port_index 2,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions via_modem,acm,adb
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 2,4
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2050

on property:sys.usb.config=rndis,gs1gs3
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2043
	write /sys/class/android_usb/android0/f_acm/port_index 2,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions rndis,acm
	write /sys/class/android_usb/android0/enable 1
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 2,4
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2043

on property:sys.usb.config=gs3
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2044
	write /sys/class/android_usb/android0/f_acm/port_index 4
	write /sys/class/android_usb/android0/functions mass_storage,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 4
	setprop vendor.usb.acm_cnt 1
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2044

on property:sys.usb.config=gs3,dual_acm
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 202E
	write /sys/class/android_usb/android0/f_acm/port_index 1,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mass_storage,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 1,4
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 202E

on property:sys.usb.config=gs1gs3
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2029
	write /sys/class/android_usb/android0/f_acm/port_index 2,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mass_storage,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 2,4
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2029

on property:sys.usb.config=mtp,gs3
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 205A
	write /sys/class/android_usb/android0/f_acm/port_index 4
	write /sys/class/android_usb/android0/functions mtp,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 4
	setprop vendor.usb.acm_cnt 1
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 205A

on property:sys.usb.config=mtp,gs3,dual_acm
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 205F
	write /sys/class/android_usb/android0/f_acm/port_index 1,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mtp,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 1,4
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 205F

on property:sys.usb.config=mtp,gs1gs3
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 205B
	write /sys/class/android_usb/android0/f_acm/port_index 2,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mtp,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 2,4
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 205B

on property:sys.usb.config=mtp,gs0gs3
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 205C
	write /sys/class/android_usb/android0/f_acm/port_index 1,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mtp,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 1,4
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 205C

on property:sys.usb.config=mtp,gs0gs1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2060
	write /sys/class/android_usb/android0/f_acm/port_index 1,2
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mtp,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 1,2
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2060

on property:sys.usb.config=gs0gs3
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2040
	write /sys/class/android_usb/android0/f_acm/port_index 1,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mass_storage,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 1,4
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2040

on property:sys.usb.config=gs0gs1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2041
	write /sys/class/android_usb/android0/f_acm/port_index 1,2
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions mass_storage,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 1,2
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2041

on property:sys.usb.config=rndis,gs0gs3
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2042
	write /sys/class/android_usb/android0/f_acm/port_index 1,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions rndis,acm
	write /sys/class/android_usb/android0/enable 1
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 1,4
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2042

on property:sys.usb.config=rndis,gs0gs1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2045
	write /sys/class/android_usb/android0/f_acm/port_index 1,2
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions rndis,acm
	write /sys/class/android_usb/android0/enable 1
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 1,2
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2045

on property:sys.usb.config=rndis,adb,gs0gs3
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2061
	write /sys/class/android_usb/android0/f_acm/port_index 1,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions rndis,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 1,4
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2061

on property:sys.usb.config=rndis,adb,gs0gs1
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2062
	write /sys/class/android_usb/android0/f_acm/port_index 1,2
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions rndis,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.acm_idx 1,2
	setprop vendor.usb.acm_cnt 2
	setprop vendor.usb.acm_enable 1
	setprop vendor.usb.pid 2062
### ttyGS series end ###

# Added for Nokia
#10.mtp,mass_storage
on property:sys.usb.config=mtp,mass_storage
    setprop sys.usb.config.fac mtp,mass_storage,${ro.boot.fac}

on property:sys.usb.config.fac=mtp,mass_storage,0
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
    write /sys/class/android_usb/android0/idProduct C025
    write /sys/class/android_usb/android0/functions ${sys.usb.config}
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
    write /sys/class/android_usb/android0/enable 1
    setprop sys.usb.state ${sys.usb.config}

on property:sys.usb.config.fac=mtp,mass_storage,1
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
    write /sys/class/android_usb/android0/idProduct C030
    write /sys/class/android_usb/android0/functions ${sys.usb.config},adb
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
    write /sys/class/android_usb/android0/enable 1
    setprop sys.usb.state ${sys.usb.config}
    setprop sys.usb.secure.disable 1
    start adbd


#11.mtp,mass_storage,adb
on property:sys.usb.config=mtp,mass_storage,adb
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
    write /sys/class/android_usb/android0/idProduct C026
    write /sys/class/android_usb/android0/functions ${sys.usb.config}
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
    write /sys/class/android_usb/android0/enable 1
    start adbd
    setprop sys.usb.state ${sys.usb.config}

#16.ptp,mass_storage
on property:sys.usb.config=ptp,mass_storage
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
    write /sys/class/android_usb/android0/idProduct C029
    write /sys/class/android_usb/android0/functions ${sys.usb.config}
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
    write /sys/class/android_usb/android0/enable 1
    setprop sys.usb.state ${sys.usb.config}

#17.ptp,mass_storage,adb
on property:sys.usb.config=ptp,mass_storage,adb
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
    write /sys/class/android_usb/android0/idProduct C02A
    write /sys/class/android_usb/android0/functions ${sys.usb.config}
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
    write /sys/class/android_usb/android0/enable 1
    start adbd
    setprop sys.usb.state ${sys.usb.config}

# USB midi configuration
on property:sys.usb.config=midi
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
    write /sys/class/android_usb/android0/idProduct C041
    write /sys/class/android_usb/android0/functions ${sys.usb.config}
    write /sys/class/android_usb/android0/enable 1
    setprop sys.usb.state ${sys.usb.config}

# USB midi configuration, with adb
on property:sys.usb.config=midi,adb
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
    write /sys/class/android_usb/android0/idProduct C042
    write /sys/class/android_usb/android0/functions ${sys.usb.config}
    write /sys/class/android_usb/android0/enable 1
    start adbd
    setprop sys.usb.state ${sys.usb.config}

on property:sys.usb.config=midi,mass_storage
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
    write /sys/class/android_usb/android0/idProduct C03F
    write /sys/class/android_usb/android0/functions ${sys.usb.config}
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
    write /sys/class/android_usb/android0/enable 1
    setprop sys.usb.state ${sys.usb.config}

# USB midi configuration, with mass_storage,adb
on property:sys.usb.config=midi,mass_storage,adb
    write /sys/class/android_usb/android0/enable 0
    write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
    write /sys/class/android_usb/android0/idProduct C040
    write /sys/class/android_usb/android0/functions ${sys.usb.config}
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
    write /sys/class/android_usb/android0/enable 1
    start adbd
    setprop sys.usb.state ${sys.usb.config}
# end of Nokia

### radio series begin ###
on property:persist.vendor.radio.port_index=""
	setprop vendor.usb.acm_idx ""
	setprop vendor.usb.acm_cnt 0
	setprop vendor.usb.acm_enable 0
on property:persist.vendor.radio.port_index=1
	setprop vendor.usb.acm_idx 1
	setprop vendor.usb.acm_cnt 1
	setprop vendor.usb.acm_enable 1
on property:persist.vendor.radio.port_index=2
	setprop vendor.usb.acm_idx 2
	setprop vendor.usb.acm_cnt 1
	setprop vendor.usb.acm_enable 1
on property:persist.vendor.radio.port_index=3
	setprop vendor.usb.acm_idx 3
	setprop vendor.usb.acm_cnt 1
	setprop vendor.usb.acm_enable 1
on property:persist.vendor.radio.port_index=4
	setprop vendor.usb.acm_idx 4
	setprop vendor.usb.acm_cnt 1
	setprop vendor.usb.acm_enable 1
### radio series end ###

### PC trigger series begin ###
on property:sys.usb.config=acm_third
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2006
	write /sys/class/android_usb/android0/f_acm/port_index 3
	write /sys/class/android_usb/android0/functions mass_storage,adb,acm
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.pid 2006

on property:sys.usb.config=mass_storage,adb,acm
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2006
	write /sys/class/android_usb/android0/f_acm/instances 1
	write /sys/class/android_usb/android0/functions ${sys.usb.config}
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.pid 2006

on property:sys.usb.config=via_bypass,third_acm
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2063
	write /sys/class/android_usb/android0/f_acm/port_index 1,2,4
	write /sys/class/udc/musb-hdrc/device/saving 1
	write /sys/class/android_usb/android0/functions via_modem,acm,adb
	write /sys/class/android_usb/android0/enable 1
	start adbd
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.pid 2063
### PC trigger series end ###

on property:sys.usb.config=charging_yes
    setprop vendor.usb.charging yes
    setprop sys.usb.config none
    setprop sys.usb.config ${sys.usb.state}

on property:sys.usb.config=charging_no
    setprop sys.usb.config none
    setprop sys.usb.config ${sys.usb.state}
    setprop vendor.usb.charging no

on property:sys.usb.config=charging
	setprop sys.usb.state ${sys.usb.config}
	setprop vendor.usb.charging cdp
on property:vendor.usb.charging=cdp
	write /sys/class/android_usb/android0/enable 0
	write /sys/class/android_usb/android0/idVendor ${vendor.usb.vid}
	write /sys/class/android_usb/android0/idProduct 2008
	write /sys/class/android_usb/android0/functions mtp
	write /sys/class/android_usb/android0/enable 1
	write /sys/class/udc/musb-hdrc/device/cmode 2
on property:vendor.usb.charging=yes
	write /sys/class/udc/musb-hdrc/device/cmode 2
on property:vendor.usb.charging=no
	write /sys/class/udc/musb-hdrc/device/cmode 1

on property:vendor.usb.bicr=yes
	write /sys/class/android_usb/android0/f_mass_storage/bicr 1
	write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"
on property:vendor.usb.bicr=no
	write /sys/class/android_usb/android0/f_mass_storage/bicr 0
	write /sys/class/android_usb/android0/f_mass_storage/lun/file "off"

on property:vendor.usb.port.mode=usb
	write /sys/bus/platform/devices/musb-hdrc/portmode 0
on property:vendor.usb.port.mode=uart
	write /sys/bus/platform/devices/musb-hdrc/portmode 1

on property:vendor.em.usb.set=USB_DRIVING_CAPABILITY
	write /sys/kernel/debug/usb20_phy/USB_DRIVING_CAPABILITY ${vendor.em.usb.value}
on property:vendor.em.usb.set=RG_USB20_TERM_VREF_SEL
	write /sys/kernel/debug/usb20_phy/RG_USB20_TERM_VREF_SEL ${vendor.em.usb.value}
on property:vendor.em.usb.set=RG_USB20_HSTX_SRCTRL
	write /sys/kernel/debug/usb20_phy/RG_USB20_HSTX_SRCTRL ${vendor.em.usb.value}
on property:vendor.em.usb.set=RG_USB20_VRT_VREF_SEL
	write /sys/kernel/debug/usb20_phy/RG_USB20_VRT_VREF_SEL ${vendor.em.usb.value}
on property:vendor.em.usb.set=RG_USB20_INTR_EN
	write /sys/kernel/debug/usb20_phy/RG_USB20_INTR_EN ${vendor.em.usb.value}
on property:vendor.em.usb.set=RG_USB20_PHY_REV6
	write /sys/kernel/debug/usb20_phy/RG_USB20_PHY_REV6 ${vendor.em.usb.value}

on property:sys.usb.config=*
	write /sys/class/android_usb/android0/log ${sys.usb.config}

on property:vendor.em.usb.bypass.enable=0
	write /sys/class/usb_rawbulk/gps/enable 1
on property:vendor.em.usb.bypass.enable=1
	write /sys/class/usb_rawbulk/pcv/enable 1
on property:vendor.em.usb.bypass.enable=2
	write /sys/class/usb_rawbulk/atc/enable 1
on property:vendor.em.usb.bypass.enable=3
	write /sys/class/usb_rawbulk/ets/enable 1
on property:vendor.em.usb.bypass.enable=4
	write /sys/class/usb_rawbulk/data/enable 1

on property:vendor.em.usb.bypass.disable=0
	write /sys/class/usb_rawbulk/gps/enable 0
on property:vendor.em.usb.bypass.disable=1
	write /sys/class/usb_rawbulk/pcv/enable 0
on property:vendor.em.usb.bypass.disable=2
	write /sys/class/usb_rawbulk/atc/enable 0
on property:vendor.em.usb.bypass.disable=3
	write /sys/class/usb_rawbulk/ets/enable 0
on property:vendor.em.usb.bypass.disable=4
	write /sys/class/usb_rawbulk/data/enable 0

on property:vendor.usb.bicr=yes
    write /sys/class/android_usb/android0/f_mass_storage/bicr 1
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "/dev/block/loop0"

on property:vendor.usb.bicr=no
    write /sys/class/android_usb/android0/f_mass_storage/bicr 0
    write /sys/class/android_usb/android0/f_mass_storage/lun/file "0"

on property:vendor.usb.speed.mode=u3
      write /sys/module/musb_hdrc/parameters/speed 1

on property:vendor.usb.speed.mode=u2
      write /sys/module/musb_hdrc/parameters/speed 0

on property:persist.vendor.usb.speed.mode=u3
      write /sys/module/musb_hdrc/parameters/speed 1

on property:persist.vendor.usb.speed.mode=u2
      write /sys/module/musb_hdrc/parameters/speed 0

on property:vendor.usb.sib_enable=1
      write /sys/bus/platform/devices/musb-hdrc/sib_enable 1

on property:vendor.usb.sib_enable=0
      write /sys/bus/platform/devices/musb-hdrc/sib_enable 0

on property:persist.vendor.usb.otg.switch=0
  write /sys/devices/otg_switch/otg_mode 0
  setprop vendor.usb.otg.switch.state ${persist.vendor.usb.otg.switch}

on property:persist.vendor.usb.otg.switch=1
  write /sys/devices/otg_switch/otg_mode 1
  setprop vendor.usb.otg.switch.state ${persist.vendor.usb.otg.switch}

### vendor process start ###
on property:vendor.usb.config=*
    setprop sys.usb.config ${vendor.usb.config}
### vendor process end ###

### test command start ###
on property:vendor.usb.test=*
    setprop sys.usb.config none
    setprop sys.usb.config ${vendor.usb.test}
### test command end ###

# switch adb root begin
on property:service.adb.root=1
    write /sys/class/android_usb/android0/enable 0
    restart adbd
    write /sys/class/android_usb/android0/enable 1
# switch adb root end

# Sunyongshan add, For Swich USB
on property:sys.fih.usb.pid=c026
    setprop sys.usb.config mtp,mass_storage,adb

on property:sys.fih.usb.pid=c02a
    setprop sys.usb.config ptp,mass_storage,adb

on property:sys.fih.usb.pid=c025
    setprop sys.usb.config mtp,mass_storage

on property:sys.fih.usb.pid=c029
    setprop sys.usb.config ptp,mass_storage

### PLATFORM VARIANT, cat $rc_file | grep write | sort | grep -vE "android0|usb20_phy" | awk '{print $2}' | uniq ###
